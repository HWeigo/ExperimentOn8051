A51 MACRO ASSEMBLER  EXPERIMENT_3                                                         04/18/2019 00:13:31 PAGE     1


MACRO ASSEMBLER A51 V8.01
OBJECT MODULE PLACED IN Experiment_3.OBJ
ASSEMBLER INVOKED BY: D:\Microcontrollers\Keil\C51\BIN\A51.EXE Experiment_3.asm SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

  0030                 1                         SECOND_LOW EQU 30H
  0031                 2                             SECOND_HIGH EQU 31H
  0032                 3                             MINUTE_LOW EQU 32H
  0033                 4                             MINUTE_HIGH EQU 33H
  REG                  5                             FLAG EQU R3
                       6                                                     
0000                   7                         ORG 0H
0000 0160              8                             AJMP MAIN               
000B                   9                             ORG 000BH
000B 01AE             10                             AJMP TINT0
                      11     
0060                  12                             ORG  60H
0060                  13     MAIN:           
                      14                             ;³õÊ¼»¯
0060 753000           15                             MOV     30H,#0H
0063 753100           16                             MOV 31H,#0H
0066 753200           17                             MOV     32H,#0H
0069 753300           18                             MOV 33H,#0H
006C 753400           19                             MOV 34H,#0H
006F 7B00             20                             MOV FLAG,#0H
                      21     
                      22                             ;¶¨Ê±Æ÷ÖÐ¶ÏÊ¹ÄÜ
0071 758901           23                             MOV TMOD,#01H           ;t0Ê¹ÓÃÄ£Ê½1¶¨Ê±Æ÷
0074 758C4C           24                             MOV TH0,#04CH                   ;ÉèÖÃ¶¨Ê±50ms
0077 758A00           25                             MOV TL0,#0H
007A D2A9             26                             SETB ET0                        ;t1ÔÊÐíÖÐ¶Ï
007C D28C             27                             SETB TR0                        ;Æô¶¯¶¨Ê±
                      28                             
                      29                             
007E                  30     LOOP:           ;ÊÂë¹ÜÏÔÊ¾
007E 30900A           31                             JNB P1.0,CLEAR
0081 309120           32                             JNB P1.1,STOP
0084 309222           33                             JNB P1.2,START
0087 11E7             34                             ACALL DISPLAY
                      35     
0089 80F3             36                             SJMP LOOP
                      37                             
                      38     
008B 758901           39     CLEAR:          MOV TMOD,#01H           ;t0Ê¹ÓÃÄ£Ê½1¶¨Ê±Æ÷
008E 758C4C           40                             MOV TH0,#04CH                   ;ÉèÖÃ¶¨Ê±50ms
0091 753000           41                             MOV     30H,#0H
0094 753100           42                             MOV 31H,#0H
0097 753200           43                             MOV     32H,#0H
009A 753300           44                             MOV 33H,#0H
009D 753400           45                             MOV 34H,#0H
00A0 02007E           46                             LJMP LOOP
00A3 22               47                             RET
                      48     
00A4 C2A9             49     STOP:           CLR ET0
00A6 02007E           50                             LJMP LOOP
                      51                             ;RET
                      52     
00A9 D2A9             53     START:          SETB ET0
00AB 02007E           54                             LJMP LOOP
                      55                             ;RET
                      56     
                      57                             
                      58     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
A51 MACRO ASSEMBLER  EXPERIMENT_3                                                         04/18/2019 00:13:31 PAGE     2

                      59     ;¶¨Ê±INC¼Ä´æÆ÷
                      60                             
00AE 758C4C           61     TINT0:          MOV TH0,#04CH           ;ÖØÖÃ³õÖµ
00B1 758A00           62                             MOV TL0,#0H
                      63     
                      64                             ;MOV A,FLAG
                      65                             ;CJNE A,#0H,NEXT_TINT
                      66     
00B4 0534             67                             INC 34H
00B6 E534             68                             MOV A,34H
00B8 B4142B           69                             CJNE A,#20,NEXT_TINT    ;50ms¼ÆÊÎª´ï20´Î£¬Ìø³ö
00BB 753400           70                             MOV 34H,#0H
00BE 0530             71                             INC 30H
00C0 E530             72                             MOV A,30H
00C2 B40521           73                             CJNE A,#5H,NEXT_TINT
00C5 753000           74                             MOV 30H,#0H
00C8 0531             75                             INC 31H
00CA E531             76                             MOV A,31H
00CC B40317           77                             CJNE A,#3H,NEXT_TINT
00CF 753100           78                             MOV 31H,#0H
00D2 0532             79                             INC 32H
00D4 E532             80                             MOV A,32H
00D6 B40A0D           81                             CJNE A,#10,NEXT_TINT                     
00D9 753200           82                             MOV 32H,#0H
00DC 0533             83                             INC 33H
00DE E533             84                             MOV A,33H
00E0 B40603           85                             CJNE A,#6H,NEXT_TINT
00E3 850033           86                             MOV 33H,0H
                      87                                                     
00E6                  88     NEXT_TINT:                      
00E6 32               89                             RETI
                      90     
                      91                             
                      92     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;                   
00E7                  93     DISPLAY:        ;µÚÒ»¸öÊÂë¹Ü
00E7 90012C           94                             MOV     DPTR,#DSEG1
00EA E530             95                             MOV  A,30H
00EC 93               96                             MOVC    A,@A+DPTR
00ED 907FF0           97                             MOV     DPTR,#7FF0H                  
00F0 F0               98                             MOVX    @DPTR,A
                      99                             
00F1 311A            100                             ACALL DELAY_SHORT
                     101     
                     102                             ;µÚ¶þ¸öÊÂë¹Ü
00F3 90012C          103                             MOV     DPTR,#DSEG1
00F6 E531            104                             MOV A,31H
00F8 93              105                             MOVC    A,@A+DPTR
                     106                     
00F9 907FF1          107                             MOV     DPTR,#7FF1H                          
00FC F0              108                             MOVX    @DPTR,A
                     109     
00FD 311A            110                             ACALL DELAY_SHORT
                     111     
                     112                             ;µÚÈ¸öÊÂë¹Ü
00FF 90012C          113                             MOV     DPTR,#DSEG1
0102 E532            114                             MOV A,32H
0104 93              115                             MOVC    A,@A+DPTR
0105 C2E7            116                                     CLR ACC.7
0107 907FF2          117                             MOV     DPTR,#7FF2H                          
010A F0              118                             MOVX    @DPTR,A
                     119     
010B 311A            120                             ACALL DELAY_SHORT
                     121     
                     122                             ;µÚËÄ¸öÊÂë¹Ü
010D 90012C          123                             MOV     DPTR,#DSEG1
0110 E533            124                             MOV A,33H
A51 MACRO ASSEMBLER  EXPERIMENT_3                                                         04/18/2019 00:13:31 PAGE     3

0112 93              125                             MOVC    A,@A+DPTR
0113 907FF3          126                             MOV     DPTR,#7FF3H                          
0116 F0              127                             MOVX    @DPTR,A
                     128     
0117 311A            129                             ACALL DELAY_SHORT
                     130     
0119 22              131                             RET
                     132     
011A                 133     DELAY_SHORT:                   
011A 7F0A            134                MOV R7,#10
011C 7EFA            135     DEL_SHORT: MOV R6,#250
011E DEFE            136                DJNZ R6,$
0120 DFFA            137                DJNZ R7,DEL_SHORT
0122 22              138                RET
                     139     
0123                 140     DELAY_LONG:                   
0123 7FFA            141                MOV R7,#250
0125 7EFA            142     DEL_LONG:  MOV R6,#250
0127 DEFE            143                DJNZ R6,$
0129 DFFA            144                DJNZ R7,DEL_LONG
012B 22              145                RET
                     146     
012C C0F9A4B0        147     DSEG1:    DB 0C0H,0F9H,0A4H,0B0H                        ;¨ºy??1¨¹¡À¨¤??¡À¨ª
0130 999282F8        148               DB 99H,92H,82H,0F8H
0134 80908883        149               DB 80H,90H,88H,83H
0138 C6A1868E        150               DB 0C6H,0A1H,86H,8EH
                     151     
                     152               END                  ;3¨¬D¨°?¨¢¨º?
A51 MACRO ASSEMBLER  EXPERIMENT_3                                                         04/18/2019 00:13:31 PAGE     4

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

ACC. . . . . . . .  D ADDR   00E0H   A   
CLEAR. . . . . . .  C ADDR   008BH   A   
DELAY_LONG . . . .  C ADDR   0123H   A   
DELAY_SHORT. . . .  C ADDR   011AH   A   
DEL_LONG . . . . .  C ADDR   0125H   A   
DEL_SHORT. . . . .  C ADDR   011CH   A   
DISPLAY. . . . . .  C ADDR   00E7H   A   
DSEG1. . . . . . .  C ADDR   012CH   A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
FLAG . . . . . . .    REG    R3          
LOOP . . . . . . .  C ADDR   007EH   A   
MAIN . . . . . . .  C ADDR   0060H   A   
MINUTE_HIGH. . . .  N NUMB   0033H   A   
MINUTE_LOW . . . .  N NUMB   0032H   A   
NEXT_TINT. . . . .  C ADDR   00E6H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
SECOND_HIGH. . . .  N NUMB   0031H   A   
SECOND_LOW . . . .  N NUMB   0030H   A   
START. . . . . . .  C ADDR   00A9H   A   
STOP . . . . . . .  C ADDR   00A4H   A   
TH0. . . . . . . .  D ADDR   008CH   A   
TINT0. . . . . . .  C ADDR   00AEH   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
