A51 MACRO ASSEMBLER  EXPERIMENT_3                                                         04/20/2019 21:14:40 PAGE     1


MACRO ASSEMBLER A51 V8.01
OBJECT MODULE PLACED IN Experiment_3.OBJ
ASSEMBLER INVOKED BY: D:\Microcontrollers\Keil\C51\BIN\A51.EXE Experiment_3.asm SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

  0030                 1                         SECOND_LOW EQU 30H
  0031                 2                             SECOND_HIGH EQU 31H
  0032                 3                             MINUTE_LOW EQU 32H
  0033                 4                             MINUTE_HIGH EQU 33H
  REG                  5                             FLAG EQU R3
                       6                                                     
0000                   7                         ORG 0H
0000 0160              8                             AJMP MAIN
0003                   9                             ORG 0003H
0003                  10                             AJMP INTF               
*** ______________________________________________________^
*** ERROR #A45 IN 10 (Experiment_3.asm, LINE 10): UNDEFINED SYMBOL (PASS-2)
000B                  11                             ORG 000BH
000B 01AE             12                             AJMP TINT0
                      13     
0060                  14                             ORG  60H
0060                  15     MAIN:           
                      16                             ;³õÊ¼»¯
0060 753000           17                             MOV     30H,#0H
0063 753100           18                             MOV 31H,#0H
0066 753200           19                             MOV     32H,#0H
0069 753300           20                             MOV 33H,#0H
006C 753400           21                             MOV 34H,#0H
006F 7B00             22                             MOV FLAG,#0H
                      23     
                      24                             ;¶¨Ê±Æ÷ÖÐ¶ÏÊ¹ÄÜ
0071 758901           25                             MOV TMOD,#01H           ;t0Ê¹ÓÃÄ£Ê½1¶¨Ê±Æ÷
0074 758C4C           26                             MOV TH0,#04CH                   ;ÉèÖÃ¶¨Ê±50ms
0077 758A00           27                             MOV TL0,#0H
007A D2A9             28                             SETB ET0                        ;t1ÔÊÐíÖÐ¶Ï
007C D28C             29                             SETB TR0                        ;Æô¶¯¶¨Ê±
                      30                             
                      31                             
007E                  32     LOOP:           ;ÊÂë¹ÜÏÔÊ¾
007E 30900A           33                             JNB P1.0,CLEAR
0081 309120           34                             JNB P1.1,STOP
0084 309222           35                             JNB P1.2,START
0087 11E7             36                             ACALL DISPLAY
                      37     
0089 80F3             38                             SJMP LOOP
                      39                             
                      40     
008B 758901           41     CLEAR:          MOV TMOD,#01H           ;t0Ê¹ÓÃÄ£Ê½1¶¨Ê±Æ÷
008E 758C4C           42                             MOV TH0,#04CH                   ;ÉèÖÃ¶¨Ê±50ms
0091 753000           43                             MOV     30H,#0H
0094 753100           44                             MOV 31H,#0H
0097 753200           45                             MOV     32H,#0H
009A 753300           46                             MOV 33H,#0H
009D 753400           47                             MOV 34H,#0H
00A0 02007E           48                             LJMP LOOP
00A3 22               49                             RET
                      50     
00A4 C2A9             51     STOP:           CLR ET0
00A6 02007E           52                             LJMP LOOP
                      53                             ;RET
                      54     
00A9 D2A9             55     START:          SETB ET0
00AB 02007E           56                             LJMP LOOP
A51 MACRO ASSEMBLER  EXPERIMENT_3                                                         04/20/2019 21:14:40 PAGE     2

                      57                             ;RET
                      58     
                      59                             
                      60     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      61     ;¶¨Ê±INC¼Ä´æÆ÷
                      62                             
00AE 758C4C           63     TINT0:          MOV TH0,#04CH           ;ÖØÖÃ³õÖµ
00B1 758A00           64                             MOV TL0,#0H
                      65     
                      66                             ;MOV A,FLAG
                      67                             ;CJNE A,#0H,NEXT_TINT
                      68     
00B4 0534             69                             INC 34H
00B6 E534             70                             MOV A,34H
00B8 B4142B           71                             CJNE A,#20,NEXT_TINT    ;50ms¼ÆÊÎª´ï20´Î£¬Ìø³ö
00BB 753400           72                             MOV 34H,#0H
00BE 0530             73                             INC 30H
00C0 E530             74                             MOV A,30H
00C2 B40521           75                             CJNE A,#5H,NEXT_TINT
00C5 753000           76                             MOV 30H,#0H
00C8 0531             77                             INC 31H
00CA E531             78                             MOV A,31H
00CC B40317           79                             CJNE A,#3H,NEXT_TINT
00CF 753100           80                             MOV 31H,#0H
00D2 0532             81                             INC 32H
00D4 E532             82                             MOV A,32H
00D6 B40A0D           83                             CJNE A,#10,NEXT_TINT                     
00D9 753200           84                             MOV 32H,#0H
00DC 0533             85                             INC 33H
00DE E533             86                             MOV A,33H
00E0 B40603           87                             CJNE A,#6H,NEXT_TINT
00E3 850033           88                             MOV 33H,0H
                      89                                                     
00E6                  90     NEXT_TINT:                      
00E6 32               91                             RETI
                      92     
                      93                             
                      94     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;                   
00E7                  95     DISPLAY:        ;µÚÒ»¸öÊÂë¹Ü
00E7 90012C           96                             MOV     DPTR,#DSEG1
00EA E530             97                             MOV  A,30H
00EC 93               98                             MOVC    A,@A+DPTR
00ED 907FF0           99                             MOV     DPTR,#7FF0H                  
00F0 F0              100                             MOVX    @DPTR,A
                     101                             
00F1 311A            102                             ACALL DELAY_SHORT
                     103     
                     104                             ;µÚ¶þ¸öÊÂë¹Ü
00F3 90012C          105                             MOV     DPTR,#DSEG1
00F6 E531            106                             MOV A,31H
00F8 93              107                             MOVC    A,@A+DPTR
                     108                     
00F9 907FF1          109                             MOV     DPTR,#7FF1H                          
00FC F0              110                             MOVX    @DPTR,A
                     111     
00FD 311A            112                             ACALL DELAY_SHORT
                     113     
                     114                             ;µÚÈ¸öÊÂë¹Ü
00FF 90012C          115                             MOV     DPTR,#DSEG1
0102 E532            116                             MOV A,32H
0104 93              117                             MOVC    A,@A+DPTR
0105 C2E7            118                                     CLR ACC.7
0107 907FF2          119                             MOV     DPTR,#7FF2H                          
010A F0              120                             MOVX    @DPTR,A
                     121     
010B 311A            122                             ACALL DELAY_SHORT
A51 MACRO ASSEMBLER  EXPERIMENT_3                                                         04/20/2019 21:14:40 PAGE     3

                     123     
                     124                             ;µÚËÄ¸öÊÂë¹Ü
010D 90012C          125                             MOV     DPTR,#DSEG1
0110 E533            126                             MOV A,33H
0112 93              127                             MOVC    A,@A+DPTR
0113 907FF3          128                             MOV     DPTR,#7FF3H                          
0116 F0              129                             MOVX    @DPTR,A
                     130     
0117 311A            131                             ACALL DELAY_SHORT
                     132     
0119 22              133                             RET
                     134     
011A                 135     DELAY_SHORT:                   
011A 7F0A            136                MOV R7,#10
011C 7EFA            137     DEL_SHORT: MOV R6,#250
011E DEFE            138                DJNZ R6,$
0120 DFFA            139                DJNZ R7,DEL_SHORT
0122 22              140                RET
                     141     
0123                 142     DELAY_LONG:                   
0123 7FFA            143                MOV R7,#250
0125 7EFA            144     DEL_LONG:  MOV R6,#250
0127 DEFE            145                DJNZ R6,$
0129 DFFA            146                DJNZ R7,DEL_LONG
012B 22              147                RET
                     148     
012C C0F9A4B0        149     DSEG1:    DB 0C0H,0F9H,0A4H,0B0H                        
0130 999282F8        150               DB 99H,92H,82H,0F8H
0134 80908883        151               DB 80H,90H,88H,83H
0138 C6A1868E        152               DB 0C6H,0A1H,86H,8EH
                     153     
                     154               END                  
A51 MACRO ASSEMBLER  EXPERIMENT_3                                                         04/20/2019 21:14:40 PAGE     4

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

ACC. . . . . . . .  D ADDR   00E0H   A   
CLEAR. . . . . . .  C ADDR   008BH   A   
DELAY_LONG . . . .  C ADDR   0123H   A   
DELAY_SHORT. . . .  C ADDR   011AH   A   
DEL_LONG . . . . .  C ADDR   0125H   A   
DEL_SHORT. . . . .  C ADDR   011CH   A   
DISPLAY. . . . . .  C ADDR   00E7H   A   
DSEG1. . . . . . .  C ADDR   012CH   A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
FLAG . . . . . . .    REG    R3          
INTF . . . . . . .    ----   -----       
LOOP . . . . . . .  C ADDR   007EH   A   
MAIN . . . . . . .  C ADDR   0060H   A   
MINUTE_HIGH. . . .  N NUMB   0033H   A   
MINUTE_LOW . . . .  N NUMB   0032H   A   
NEXT_TINT. . . . .  C ADDR   00E6H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
SECOND_HIGH. . . .  N NUMB   0031H   A   
SECOND_LOW . . . .  N NUMB   0030H   A   
START. . . . . . .  C ADDR   00A9H   A   
STOP . . . . . . .  C ADDR   00A4H   A   
TH0. . . . . . . .  D ADDR   008CH   A   
TINT0. . . . . . .  C ADDR   00AEH   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 1 ERROR(S)
